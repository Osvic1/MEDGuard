{% extends "base.html" %}

{% block content %}
<!-- HEADER WITH TAGLINE -->
<div class="mg-header">
  <div class="logo"></div>
  <div class="brand">
    <h1>MediGuard</h1>
    <p id="tagline" class="tagline">Because your health deserves the truth.</p>
  </div>
</div>

<!-- SCAN QR CODE -->
<div class="panel">
  <h2>📷 Scan QR Code</h2>
  <div id="qr-reader" class="qr-reader"></div>
  <div style="margin-top: 10px;">
    <button id="start-scan" class="btn btn-yellow">Start Camera</button>
    <button id="stop-scan" class="btn btn-outline">Stop</button>
  </div>
</div>

<!-- VERIFY BY BATCH NUMBER -->
<div class="panel">
  <h2>🔍 Or Verify by Batch Number</h2>
  <form method="POST" action="{{ url_for('verify.verify_from_form') }}" class="inline-form" target="_blank">
    <input id="verify-batch" name="batch_number" class="input" placeholder="Enter batch number" required>
    <button id="verify-btn" type="submit" class="btn btn-yellow">Verify</button>
  </form>
</div>

<!-- RESULT DISPLAY -->
<div id="result"></div>

<!-- REPORT COUNTERFEIT -->
<div class="panel">
  <h2>🚨 Report Counterfeit</h2>
  <div class="inline-form" style="margin-bottom: 8px;">
    <input id="report-drug" class="input" placeholder="Drug name">
    <input id="report-batch" class="input" placeholder="Batch number" required>
    <input id="report-location" class="input" placeholder="Location (optional)">
  </div>
  <textarea id="report-note" class="input" placeholder="Note (optional)" style="width:100%; min-height: 80px;"></textarea>
  <div style="margin-top: 10px;">
    <button id="report-btn" class="btn btn-yellow">Report</button>
  </div>
</div>
{% endblock %}

{% block scripts %}
<!-- Include Html5Qrcode library (replace with your version if different) -->
<script src="https://unpkg.com/html5-qrcode@2.3.8/minified/html5-qrcode.min.js"></script>
<script src="{{ url_for('static', filename='app.js') }}"></script>
{% endblock %}